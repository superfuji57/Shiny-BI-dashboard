names(dfList)
dfList <- sapply(data, function(z) dateFilter(z, x), USE.NAMES = TRUE)
names(dfList)
data <- list(t_commerce=t_commerce, t_content=t_content, t_experienceType=t_experienceType)
dfList <- sapply(data, function(z) dateFilter(z, x), USE.NAMES = TRUE)
names(dfList)
dfList$t_commerce
runApp("enterpriseDash")
runApp("enterpriseDash")
dfList$t_commerce
dfList$t_commerce
runApp("enterpriseDash")
x
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
as.Date('2015-05-01')
as.Date(as.Date('2015-05-01'))
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
Sys.Date()
dateFilter <- function(df, inputDate){
if (inputDate == "FYTD") {
dateRange <- c(beginFY(today()-1), today()-1)
} else if (is.numeric(inputDate)) {
dateRange <- c(today()- 1 - inputDate, today()-1)
} else if (inputDate == "Custom") {
dateRange <- c(input$customDateRange[1], input$customDateRange[2])
}
cy <- c(as.Date(dateRange[1]), as.Date(dateRange[1]))
py <- c(as.Date(cy[1])-365, as.Date(cy[2])-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
df
}
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
dateFilter(t_experienceType, "FYTD")
source('C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/helpers.R', echo=TRUE)
dateFilter(t_experienceType, "FYTD")
dateRange <- c(beginFY(today()-1), today()-1)
dateRange
dateFilter <- function(df, inputDate){
if (inputDate == "FYTD") {
dateRange <- c(beginFY(today()-1), today()-1)
} else if (is.numeric(inputDate)) {
dateRange <- c(today()- 1 - inputDate, today()-1)
} else if (inputDate == "Custom") {
dateRange <- c(input$customDateRange[1], input$customDateRange[2])
}
cy <- c(as.Date(dateRange[1]), as.Date(dateRange[2]))
py <- c(as.Date(cy[1])-365, as.Date(cy[2])-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
df
}
dateFilter(t_experienceType, "FYTD")
runApp("enterpriseDash")
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
dataList <- list(t_commerce=t_commerce, t_content=t_content, t_experienceType=t_experienceType)
sapply(dataList, function(x) dateFilter(x, input$dateRange), USE.NAMES = TRUE)
sapply(dataList, function(x) dateFilter(x, "FYTD"), USE.NAMES = TRUE)
dfs <- sapply(dataList, function(x) dateFilter(x, "FYTD"), USE.NAMES = TRUE)
names(dfs)
dfs <- sapply(dataList, function(x) dateFilter(x, 30), USE.NAMES = TRUE)
names(dfs)
dfs
dfs <- sapply(dataList, function(x) dateFilter(x, c('2015-05-01', '2015-05-10')), USE.NAMES = TRUE)
names(dfs)
x <- c('2015-05-01', c('2015-05-10'))
x[1]
x[2]
dfs <- sapply(dataList, function(x) dateFilter(x, x), USE.NAMES = TRUE)
xx <- c('2015-05-01', c('2015-05-10'))
dfs <- sapply(dataList, function(x) dateFilter(x, xx), USE.NAMES = TRUE)
dfs <- sapply(dataList, function(x) dateFilter(x, x), USE.NAMES = TRUE)
x
x
xx
x
dfs <- sapply(dataList, function(x) dateFilter(x, 50), USE.NAMES = TRUE)
dfs
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
is.numeric("30")
"30" > 0
"2015-05-01" > 0
"FT" > 0
as.numeric("2015-05-01") > 0
runApp("enterpriseDash")
e1
runApp("enterpriseDash")
as.numeric("FYTD")
as.numeric("FYTD")
runApp("enterpriseDash")
daz <- c("2015-05-01", "2015-05-20")
length(daz)
length(30)
length("30")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
dateFilter(t_commerce, "FYTD")
dateFilter(t_commerce, c('2015-01-20', '2015-02-20'))
dateFilter <- function(df, inputDate){
if (inputDate == "FYTD") {
dateRange <- c(beginFY(today()-1), today()-1)
} else if (as.numeric(inputDate) > 0 & !is.na(as.numeric(inputDate))) {
dateRange <- c(today()- 1 - as.numeric(inputDate), today()-1)
} else if (length(inputDate) == 2) {
dateRange <- c(inputDate[1], inputDate[2])
}
cy <- c(dateRange[1], dateRange[2])
py <- c(cy[1]-365, cy[2]-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
df
}
dateFilter(t_commerce, c('2015-01-20', '2015-02-20'))
dateFilter(t_commerce, c('2015-01-20', '2015-02-20'))
trace(input$customDateRange[1])
trace(dateFilter(t_commerce, c('2015-01-20', '2015-02-20')))
trace()
browser()
df
browser(dateFilter(t_commerce, c('2015-01-20', '2015-02-20')))
dateFilter(t_commerce, c('2015-01-20', '2015-02-20'))
browser()
inputDate
dateFilter <- function(df, inputDate){
if (inputDate == "FYTD") {
dateRange <- c(beginFY(today()-1), today()-1)
} else if (as.numeric(inputDate) > 0 & !is.na(as.numeric(inputDate))) {
dateRange <- c(today()- 1 - as.numeric(inputDate), today()-1)
} else if (length(inputDate) == 2) {
dateRange <- c(inputDate[1], inputDate[2])
}
browser()
cy <- c(dateRange[1], dateRange[2])
py <- c(cy[1]-365, cy[2]-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
df
}
dateFilter <- function(df, inputDate){
if (inputDate == "FYTD") {
dateRange <- c(beginFY(today()-1), today()-1)
} else if (as.numeric(inputDate) > 0 & !is.na(as.numeric(inputDate))) {
dateRange <- c(today()- 1 - as.numeric(inputDate), today()-1)
} else if (length(inputDate) == 2) {
dateRange <- c(inputDate[1], inputDate[2])
}
cy <- c(dateRange[1], dateRange[2])
py <- c(cy[1]-365, cy[2]-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
df
}
browser(dateFilter(t_commerce, c('2015-01-20', '2015-02-20')))
browser()
inputDate
x
d
dafsdlkfj
5
debug(dateFilter)
dateFilter(t_commerce, c('2015-01-20', '2015-02-20'))
inputDate
length(inputDate)
dateRange
dateRange
dateRange
dateRange
dateRange
dateRange[1]
dateRange[2]
class(dateRange[2])
cy
dateFilter <- function(df, inputDate){
if (inputDate == "FYTD") {
dateRange <- c(beginFY(today()-1), today()-1)
} else if (as.numeric(inputDate) > 0 & !is.na(as.numeric(inputDate))) {
dateRange <- c(today()- 1 - as.numeric(inputDate), today()-1)
} else if (length(inputDate) == 2) {
dateRange <- c(as.Date(inputDate[1]), as.Date(inputDate[2]))
}
cy <- c(dateRange[1], dateRange[2])
py <- c(cy[1]-365, cy[2]-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
df
}
debug(dateFilter)
dateFilter(t_commerce, c('2015-01-20', '2015-02-20'))
cy
cy
class(cy)
py
class(py)
head(df)
runApp("enterpriseDash")
dateFilter(t_commerce, c('2015-01-20', '2015-02-20'))
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
dateFilter(t_commerce, c('2015-01-20', '2015-02-20'))
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
devtools::install_github("rstudio/shiny")
library(shiny)
library(mime)
install.packages(mime)
install.packages("mime")
install.packages("mime")
devtools::install_github("rstudio/shiny")
devtools::install_github("yihui/mime")
devtools::install_github("rstudio/shiny")
library(shiny)
runApp("enterpriseDash")
charToDate()
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
getDates <- function(inputDate){
if (length(inputDate) == 2) {
dateRange <- inputDate
} else if (inputDate == "FYTD") {
dateRange <- c(beginFY(today()-1), today()-1)
} else if (as.numeric(inputDate) > 0 & !is.na(as.numeric(inputDate))) {
dateRange <- c(today()- 1 - as.numeric(inputDate), today()-1)
}
}
getDates(30)
getDates <- function(inputDate){
if (length(inputDate) == 2) {
dateRange <- inputDate
} else if (inputDate == "FYTD") {
dateRange <- c(beginFY(today()-1), today()-1)
} else if (as.numeric(inputDate) > 0 & !is.na(as.numeric(inputDate))) {
dateRange <- c(today()- 1 - as.numeric(inputDate), today()-1)
}
dateRange
}
getDates(30)
getDates(50)
getDates(1)
getDates(c('2015-05-01', '2015-05-20'))
class(getDates(c('2015-05-01', '2015-05-20')))
dateFilter2 <- function(df, inputDate){
cy <- inputDate
py <- c(cy[1]-365, cy[2]-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
df
}
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
dateFilter2(t_commerce, getDates(30))
dateFilter2(t_commerce, getDates(c('2015-05-10', '2015-05-11')))
dateFilter2(t_commerce, getDates(c('2015-05-10', '2015-05-15')))
getDates(c('2015-05-10', '2015-05-11'))
getDates(c('2015-05-10', '2015-05-11'))[1]
getDates(c('2015-05-10', '2015-05-11'))[1] - 365
as.Date(getDates(c('2015-05-10', '2015-05-11')))[1] - 365
getDates <- function(inputDate){
if (length(inputDate) == 2) {
dateRange <- inputDate
} else if (inputDate == "FYTD") {
dateRange <- c(beginFY(today()-1), today()-1)
} else if (as.numeric(inputDate) > 0 & !is.na(as.numeric(inputDate))) {
dateRange <- c(today()- 1 - as.numeric(inputDate), today()-1)
}
as.Date(dateRange)
}
dateFilter2 <- function(df, inputDate){
cy <- inputDate
py <- c(cy[1]-365, cy[2]-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
df
}
dateFilter2(t_commerce, getDates(c('2015-05-10', '2015-05-15')))
dateFilter2(t_commerce, getDates(50))
runApp("enterpriseDash")
runApp("enterpriseDash")
?dropdownMenu
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
runApp("enterpriseDash")
library(shiny)
runApp("enterpriseDash")
install.packages("htmlwidgets")
install.packages("htmlwidgets")
install.packages("htmlWidgets")
install.packages("htmlwidgets")
devtools::install_github('ramnathv/htmlwidgets')
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
tail(t_content)
tail(t_content$datetime)
tail(t_content$datetime)+1
tail(t_content$datetime)+10
tail(t_content)+10
tail(t_content)
tail(t_content,36)
tail(t_content,48)
n_content <- tail(t_content,48)
tail(t_commerce)
tail(t_commerce, 10)
tail(t_commerce, 7)
tail(t_commerce, 7*16)
n_commerce <- tail(t_commerce, 7*16)
tail(t_experienceType)
n_experienceType <- tail(t_experienceType, 32)
View(n_experienceType)
n_experienceType$datetime+16
n_experienceType$datetime <- n_experienceType$datetime+16
View(n_experienceType)
n_content$datetime <- n_content$datetime+16
n_commerce$datetime <- n_commerce$datetime+16
View(n_content)
View(n_commerce)
library(dplyr)
rbind(t_content, n_content) %>% tail()
t_content <- rbind(t_content, n_content)
t_commerce <- rbind(t_commerce, n_commerce)
t_experienceType <- rbind(t_experienceType, n_experienceType)
getwd()
save(t_experienceType, t_commerce, t_content, FYTD.commerce, FYTD.content, YOY.commerce, YOY.content,
file="C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda"
)
shiny::runApp('enterpriseDash')
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
View(t_commerce)
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
FY('2015-06-04')
FY('2014-06-04')
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
t_commerce$datetime[1]
FY(t_commerce$datetime[1])
class(t_commerce$datetime[1])
FY(as.Date('2014-06-04'))
FY(as.Date('2015-06-04'))
View(t_commerce)
shiny::runApp('enterpriseDash')
beginFY('2014-06-05')
beginFY('2015-06-05')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
ifelse(TRUE == TRUE, "commerce", NULL)
ifelse(FALSE == TRUE, "commerce", NULL)
install.packages("packrat")
packageVersion('packrat')
packrat::init()
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
randn(100)
randn()
sample(LETTERS)
sample(LETTERS,1)
shiny::runApp('enterpriseDash')
as.character(TRUE
)
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
max(t_content$datetime)
min(t_content$datetime)
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
t_commerce$FY <- sapply(t_commerce$datetime, FY)
t_content$FY <- sapply(t_content$datetime, FY)
t_experienceType$FY <- sapply(t_experienceType$datetime, FY)
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
t_commerce$FY <- sapply(t_commerce$datetime, FY)
t_content$FY <- sapply(t_content$datetime, FY)
t_experienceType$FY <- sapply(t_experienceType$datetime, FY)
View(t_commerce)
unique(t_commerce$FY)
unique(t_commerce$FY)
sort(unique(t_commerce$FY), decreasing = TRUE)
sort(unique(t_commerce$FY), decreasing = TRUE)[1:2]
shiny::runApp('enterpriseDash')
exists(dx)
x <- data.frame()
x
is.null(x$what)
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
View(t_content)
t_commerce$FY <- sapply(t_commerce$datetime, FY)
dateFilter(t_commerce,)
x <- c('2015-05-15', '2015-06-03')
dateFilter(t_commerce,x)
x <- c(as.Date('2015-05-15'), as.Date('2015-06-03'))
dateFilter(t_commerce,x)
dateFilter(t_commerce , x)
dateFilter(t_commerce,x)
x
dateFilter <- function(df, inputDate){
cy <- inputDate
py <- c(cy[1]-365, cy[2]-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
if (length(unique(df$FY)) > 2){
df$FY[between(df$datetime, cy[1], cy[2])] <- "Current"
df$FY[between(df$datetime, py[1], py[2])] <- "Previous"
}
df
}
dateFilter(t_commerce,x)
dateFilter <- function(df, inputDate){
cy <- inputDate
py <- c(cy[1]-365, cy[2]-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
if (length(unique(df$FY)) > 2){
df$FY[between(df$datetime, cy[1], cy[2])] <- factor("Current")
df$FY[between(df$datetime, py[1], py[2])] <- factor("Previous")
}
df
}
dateFilter(t_commerce,x)
dateFilter <- function(df, inputDate){
cy <- inputDate
py <- c(cy[1]-365, cy[2]-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
if (length(unique(df$FY)) > 2){
df$Year[between(df$datetime, cy[1], cy[2])] <- factor("Current")
df$Year[between(df$datetime, py[1], py[2])] <- factor("Previous")
}
df
}
dateFilter(t_commerce,x)
dateFilter <- function(df, inputDate){
cy <- inputDate
py <- c(cy[1]-365, cy[2]-365)
df <- dplyr::filter(df, between(datetime, cy[1], cy[2]) |
between(datetime, py[1], py[2]))
if (length(unique(df$FY)) > 2){
df$Year[between(df$datetime, cy[1], cy[2])] <- "Current"
df$Year[between(df$datetime, py[1], py[2])] <- "Previous"
}
df
}
dateFilter(t_commerce,x)
source('C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/helpers.R', echo=TRUE)
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
dateFilter(t_commerce,x)
x <- c(as.Date('2015-05-15'), as.Date('2015-06-03'))
dateFilter(t_commerce,x)
load("C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda")
t_commerce$FY <- sapply(t_commerce$datetime, FY)
t_content$FY <- sapply(t_content$datetime, FY)
t_experienceType$FY <- sapply(t_experienceType$datetime, FY)
)
save(t_experienceType, t_commerce, t_content, FYTD.commerce, FYTD.content, YOY.commerce, YOY.content,
file="C:/Users/andrewon/Shiny-BI-dashboard/enterpriseDash/data/enterprise.Rda"
)
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
shiny::runApp('enterpriseDash')
